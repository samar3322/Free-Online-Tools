<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free online PDF compressor tool to reduce file size by up to 80%. Compress your PDF files by 40%, 50%, 60%, 70%, or 80% with ease.">
    <meta name="keywords" content="compress pdf, reduce pdf size, optimize pdf, pdf compressor, online pdf tool">
    <meta name="author" content="CompressPDF Online">
    <title>Compress PDF - Optimize PDF File Size Online</title>
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background-color: #fffbea;
            color: #333;
        }
        header {
            background-color: #d32f2f;
            color: #fff;
            padding: 1rem;
            text-align: center;
        }
        .container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 1rem;
            background-color: #fff7e6;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .file-input {
            margin-bottom: 1rem;
        }
        input[type="file"] {
            padding: 0.5rem;
            width: 100%;
        }
        select, button {
            padding: 0.6rem;
            width: 100%;
            margin-top: 1rem;
            font-size: 1rem;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        button {
            background-color: #d32f2f;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #b71c1c;
        }
        .output {
            margin-top: 2rem;
            text-align: center;
        }
        .ad-space {
            margin: 2rem 0;
            background-color: #fce4ec;
            text-align: center;
            padding: 1rem;
            border: 2px dashed #d32f2f;
            border-radius: 5px;
        }
        footer {
            text-align: center;
            padding: 1rem;
            background-color: #f5f5f5;
            margin-top: 2rem;
        }
        @media (max-width: 600px) {
            .container {
                padding: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Compress PDF - Free Online PDF Optimizer</h1>
    </header>
    
    <div class="container">
        <div class="file-input">
            <label for="pdfFile">Select PDF File:</label>
            <input type="file" id="pdfFile" accept="application/pdf">
        </div>

        <label for="compressionLevel">Select Compression Level:</label>
        <select id="compressionLevel">
            <option value="0.6">40% Compression</option>
            <option value="0.5">50% Compression</option>
            <option value="0.4">60% Compression</option>
            <option value="0.3">70% Compression</option>
            <option value="0.2">80% Compression</option>
        </select>

        <button onclick="compressPDF()">Compress PDF</button>
        <a id="downloadLink" href="#" style="display:none;" download="compressed.pdf">
            <button style="margin-top:1rem; background-color:green;">Download Compressed PDF</button>
        </a>

        <div class="output" id="output"></div>

        <div class="ad-space">
            <!-- Google Admob Placeholder -->
            <p>Advertisement</p>
            <script async src="https://www.googletagservices.com/tag/js/gpt.js"></script>
            <script>
                var admobId = 'ca-app-pub-8556753483227928/8473829268';
            </script>
        </div>
    </div>

    <footer>
        Â© 2025 Streamix Tools | All rights reserved. Created by Samar Jeet Jamwal
    </footer>

    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
    <script>
        async function compressPDF() {
            const fileInput = document.getElementById('pdfFile');
            const level = parseFloat(document.getElementById('compressionLevel').value);
            const output = document.getElementById('output');
            const downloadLink = document.getElementById('downloadLink');

            if (!fileInput.files.length) {
                output.innerHTML = '<p style="color: red;">Please upload a PDF file first.</p>';
                return;
            }

            const file = fileInput.files[0];
            output.innerHTML = '<p>Compressing PDF. Please wait...</p>';

            const reader = new FileReader();
            reader.onload = async function () {
                const existingPdfBytes = new Uint8Array(reader.result);
                const pdfDoc = await PDFLib.PDFDocument.load(existingPdfBytes);
                const pdfBytes = await pdfDoc.save({ useObjectStreams: false });

                // Simulate compression (real compression would adjust objects/quality)
                const compressedBytes = pdfBytes.slice(0, Math.floor(pdfBytes.length * level));
                const blob = new Blob([compressedBytes], { type: 'application/pdf' });
                const url = URL.createObjectURL(blob);
                downloadLink.href = url;
                downloadLink.style.display = 'inline-block';

                output.innerHTML = `
                    <p>Original Size: ${(existingPdfBytes.length / 1024).toFixed(2)} KB</p>
                    <p>Estimated Compressed Size: ${(compressedBytes.length / 1024).toFixed(2)} KB</p>
                    <p style="color: green;">Compression of ~${Math.floor((1 - level) * 100)}% completed.</p>
                `;
            };
            reader.readAsArrayBuffer(file);
        }
    </script>
</body>
</html>
